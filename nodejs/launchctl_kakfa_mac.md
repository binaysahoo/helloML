To start Kafka server automatically when restarting your Mac, you can create a launchd plist file to manage the Kafka service. Here's a step-by-step guide to achieve this:

1. **Create a Launchd plist File**:

   Create a plist file (e.g., `kafka.plist`) in the `/Library/LaunchDaemons` directory. You can use a text editor like `nano` or `vim` to create and edit the file.

   ```
   sudo nano /Library/LaunchDaemons/kafka.plist
   ```

2. **Add Configuration to the plist File**:

   Paste the following configuration into the `kafka.plist` file:

   ```xml
   <?xml version="1.0" encoding="UTF-8"?>
   <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
   <plist version="1.0">
   <dict>
       <key>Label</key>
       <string>com.kafka.server</string>
       <key>ProgramArguments</key>
       <array>
           <string>/path/to/kafka/bin/kafka-server-start.sh</string>
           <string>/path/to/kafka/config/server.properties</string>
       </array>
       <key>RunAtLoad</key>
       <true/>
       <key>StandardOutPath</key>
       <string>/tmp/kafka.out</string>
       <key>StandardErrorPath</key>
       <string>/tmp/kafka.err</string>
   </dict>
   </plist>
   ```

   Replace `/path/to/kafka` with the actual path where Kafka is installed on your system.

3. **Set File Permissions**:

   Make sure the permissions for the plist file are set correctly:

   ```
   sudo chmod 644 /Library/LaunchDaemons/kafka.plist
   ```

4. **Load the Launchd plist File**:

   Load the launchd plist file into the system configuration:

   ```
   sudo launchctl load /Library/LaunchDaemons/kafka.plist
   ```

5. **Verify the Service**:

   You can verify that the Kafka service is running by checking the logs:

   ```
   tail -f /tmp/kafka.out /tmp/kafka.err
   ```

   This command will show you the output and errors generated by the Kafka server.

With these steps, Kafka will be automatically started whenever your Mac restarts. Make sure to replace `/path/to/kafka` with the actual path where Kafka is installed on your system. Additionally, you may need to adjust the configuration based on your specific Kafka setup.
